:root{
  --bg:#2b8cff; --bg2:#5496ff;
  --ink:#0f2131; --muted:#3e5164;
  --card:#fff; --shadow:0 20px 60px rgba(15,33,49,.12);
  --radius:28px;
}
*{box-sizing:border-box}
html{scroll-behavior:smooth}
body{
  margin:0;color:var(--ink);
  font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  background: radial-gradient(1200px 600px at 100% 0,#6aa0ff33 0,transparent 60%),
              radial-gradient(1200px 600px at 0 100%,#6aa0ff33 0,transparent 60%),
              linear-gradient(180deg,var(--bg),var(--bg2));
}

/* header */
.topbar{position:sticky;top:0;z-index:30;background:rgba(255,255,255,.85);backdrop-filter:blur(10px);border-bottom:1px solid #e8eef6;display:flex;align-items:center;justify-content:space-between;padding:14px 6vw}
.brand{font-weight:900;font-size:28px;color:var(--ink);text-decoration:none}
.brand .thin{font-weight:400;margin-left:.25em}
.nav a{color:var(--ink);text-decoration:none;margin-left:28px;font-weight:600}

/* hero counter */
.hero{padding:60px 6vw 44px;display:grid;gap:24px;place-items:center}
.capsule{
  width:min(1100px,92vw);
  height:clamp(240px,44vw,460px);
  background:#fff;border-radius:160px;
  display:flex;align-items:center;justify-content:center;
  box-shadow:0 40px 120px rgba(0,0,0,.15);overflow:hidden;
}
.odo{display:flex;align-items:center;gap:10px;--digW:clamp(32px,9.2vw,84px);--digH:clamp(64px,16.5vw,150px)}
.digit{position:relative;width:var(--digW);height:var(--digH);overflow:hidden;border-radius:12px}
.digit::before,.digit::after{content:"";position:absolute;left:0;right:0;height:18%;z-index:2;background:linear-gradient(to bottom,#fff,transparent);pointer-events:none}
.digit::after{top:auto;bottom:0;transform:scaleY(-1)}
.strip{position:absolute;inset:0;display:flex;flex-direction:column;will-change:transform;transform:translateZ(0)}
.cell{
  height:var(--digH);display:flex;align-items:center;justify-content:center;
  font-family:Impact,Haettenschweiler,'Arial Black',sans-serif;font-weight:900;
  font-size:calc(var(--digH)*.68);line-height:1;color:#0e2130;letter-spacing:.02em;
  font-variant-numeric:tabular-nums lining-nums;
}
.digit.anim .strip{transition:transform .48s cubic-bezier(.24,.8,.24,1)}
.subtitle{color:#fff;text-align:center;max-width:900px;font-family:Impact,Haettenschweiler,'Arial Black',sans-serif;font-size:clamp(16px,3.8vw,28px);line-height:1.3}

/* why (bottles) */
.why{position:relative;background:#fff;padding:110px 6vw 140px;overflow:hidden}
.why .layer{position:absolute;inset:0;z-index:0}
.why-inner{position:relative;z-index:1;display:grid;gap:18px;place-items:center;text-align:center}
.impact{font-family:Impact,Haettenschweiler,'Arial Black',sans-serif;letter-spacing:.02em}
.why h2{font-size:clamp(40px,8vw,74px)}
.lead{max-width:980px;color:var(--muted);font-size:clamp(18px,3.8vw,22px);line-height:1.6}

/* what (services teaser with bubbles) */
.svc-teaser{position:relative;background:linear-gradient(#f8fbff,#f2f7ff);padding:100px 6vw 120px;overflow:hidden}
.svc-teaser .layer{position:absolute;inset:0;z-index:0}
.svc-inner{position:relative;z-index:1}
.svc-inner h2{text-align:center;font-size:clamp(38px,7vw,70px);margin:0 0 18px}
.cards{
  display:flex;gap:18px;scroll-snap-type:x mandatory;overflow-x:auto;padding:6px;
  touch-action:pan-x;overscroll-behavior-x:contain;overscroll-behavior-y:none;
}
.card{
  flex:0 0 min(420px,84vw);scroll-snap-align:center;background:#fff;border-radius:22px;
  padding:20px 22px;box-shadow:var(--shadow);display:grid;gap:10px
}
.card .more{color:var(--bg);text-decoration:none;font-weight:700}

/* how */
.how{background:#f7fbff;padding:110px 6vw}
.how h2{font-size:clamp(36px,7vw,64px);text-align:center;margin:0 0 26px}
.pipe-wrap{padding:30px 0 12px}
.pipe{position:relative;height:18px;border-radius:12px;background:#d9e7ff;overflow:hidden}
.pipe .water{
  position:absolute;left:-60%;top:0;height:100%;width:160%;
  background:repeating-linear-gradient(90deg,#7fb4ff 0 18px,#66a6ff 18px 36px);
  filter:saturate(1.05);animation:flow-ltr 3.8s linear infinite; /* слева-направо */
}
@keyframes flow-ltr{from{transform:translateX(-10%)}to{transform:translateX(10%)}}
.stage{position:absolute;top:50%;transform:translate(calc(var(--x)), -50%);left:0;width:18px;height:18px;border-radius:50%;background:#fff;border:3px solid var(--bg);box-shadow:var(--shadow);cursor:pointer}
.pulse{animation:pulse 2.2s ease-in-out infinite}
@keyframes pulse{0%,100%{box-shadow:0 0 0 0 rgba(43,140,255,.35)}50%{box-shadow:0 0 0 10px rgba(43,140,255,0)}}
.stages{display:grid;grid-template-columns:repeat(5,minmax(180px,1fr));gap:18px;margin-top:22px}
.stage-card{background:#fff;border-radius:16px;padding:16px 18px;box-shadow:var(--shadow);opacity:.5;transform:translateY(8px);transition:.35s}
.stage-card.show{opacity:1;transform:none}
.stage-card h3{margin:.2rem 0 8px}

/* footer */
.footer{background:#0b1e31;color:#cfe1ff}
.footer .wrap{display:flex;justify-content:space-between;align-items:center;padding:24px 6vw}
.footer a{color:#cfe1ff;text-decoration:none;margin-left:22px}

/* reveal */
.reveal{opacity:0;transform:translateY(18px);transition:opacity .5s ease,transform .5s ease}
.reveal.on{opacity:1;transform:translateY(0)}

/* resp */
@media (max-width:980px){
  .stages{grid-template-columns:1fr 1fr;gap:14px}
}
@media (max-width:560px){
  .capsule{height:clamp(220px,56vw,340px);border-radius:120px}
  .hero{padding-top:36px}
  .stage{width:16px;height:16px}
}
